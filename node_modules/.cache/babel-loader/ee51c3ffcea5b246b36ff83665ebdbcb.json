{"remainingRequest":"/home/newsmay/Desktop/novi/node_modules/babel-loader/lib/index.js!/home/newsmay/Desktop/novi/node_modules/vuetify-loader/lib/loader.js!/home/newsmay/Desktop/novi/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/newsmay/Desktop/novi/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/newsmay/Desktop/novi/src/components/Messages.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/newsmay/Desktop/novi/src/components/Messages.vue","mtime":1566281350014},{"path":"/home/newsmay/Desktop/novi/node_modules/cache-loader/dist/cjs.js","mtime":1565775065128},{"path":"/home/newsmay/Desktop/novi/node_modules/babel-loader/lib/index.js","mtime":1565775065104},{"path":"/home/newsmay/Desktop/novi/node_modules/vuetify-loader/lib/loader.js","mtime":1565775065884},{"path":"/home/newsmay/Desktop/novi/node_modules/cache-loader/dist/cjs.js","mtime":1565775065128},{"path":"/home/newsmay/Desktop/novi/node_modules/vue-loader/lib/index.js","mtime":1565775065856}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/newsmay/Desktop/novi/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nimport { THEME_ID, THEME, API_BASE_URL, TITLE, TEXT, CREATEDAT } from \"../constants/index.js\";\nimport { USER_EMAIL, LANGUAGE } from \"../constants/index.js\";\nimport { ACCESS_TOKEN, MESSAGES } from \"../constants/index.js\";\nimport axios from \"axios\";\nimport ClickOutside from \"vue-click-outside\";\nimport { setTimeout } from \"timers\";\nvar headers = {\n  \"Content-Type\": \"application/json\",\n  Authorization: \"Bearer \" + localStorage.getItem(ACCESS_TOKEN)\n};\nexport default {\n  name: \"messages\",\n  data: function data() {\n    return {\n      messagesData: [],\n      rowSize: 20,\n      //Number of rows\n      pagesSize: 1,\n      //Number of pages\n      page: 1,\n      //current active page\n      menu: false,\n      rowSizesValue: [5, 10, 20],\n      sortType: \"desc\",\n      dateSort: true,\n      sortByValue: \"createdAt\",\n      textNoti: \"\",\n      errorOccured: false,\n      showNoti: false\n    };\n  },\n  mounted: function mounted() {\n    /*if (localStorage.getItem(THEME) == \"light\") {\n      document.getElementById(\"header\").style.backgroundColor = \"white\";\n      document.getElementById(\"messages\").style.backgroundColor = \"white\";\n    } else if (localStorage.getItem(THEME) == \"dark\") {\n      document.getElementById(\"header\").style.backgroundColor = \"black\";\n      document.getElementById(\"messages\").style.backgroundColor = \"black\";\n    }\n    if (localStorage.getItem(LANGUAGE) != \"en\") {\n      document.getElementsByTagName(\"H1\")[0].innerHTML = localStorage.getItem(\n        MESSAGES\n      );\n      document.getElementsByTagName(\"H5\")[0].innerHTML = localStorage.getItem(\n        TITLE\n      );\n      document.getElementsByTagName(\"H5\")[1].innerHTML = localStorage.getItem(\n        TEXT\n      );\n      document.getElementsByTagName(\"H5\")[2].innerHTML = localStorage.getItem(\n        CREATEDAT\n      );\n    }\n    this.create();*/\n  },\n  filters: {\n    shortDate: function shortDate(value) {\n      var dateVar = new Date(value);\n      var dataVar2 = dateVar.toDateString();\n      var data = dataVar2.substring(4);\n      return data;\n    }\n  },\n  methods: {\n    reloadMessages: function () {\n      var _reloadMessages = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var pg, res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                pg = this.page - 1;\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.get(API_BASE_URL + \"/api/messages?page=\" + pg + \"&size=\" + this.rowSize + \"&sort=\" + this.sortByValue + \",\" + this.sortType);\n\n              case 4:\n                res = _context.sent;\n                if (res.data.totalPages < this.page) this.changePage(res.data.totalPages);\n                this.messagesData = res.data.content;\n                this.pagesSize = res.data.totalPages;\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](1);\n                this.showNotification(-1);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 10]]);\n      }));\n\n      function reloadMessages() {\n        return _reloadMessages.apply(this, arguments);\n      }\n\n      return reloadMessages;\n    }(),\n    showNotification: function showNotification(value) {\n      if (value == -1) {\n        this.textNoti = \"Some error have occured\";\n        this.errorOccured = true;\n      } else {\n        this.errorOccured = false;\n        this.textNoti = \"Succes\";\n      }\n\n      this.showNoti = !this.showNoti;\n      setTimeout(this.closeNoti, 1500);\n      {}\n    },\n    closeNoti: function closeNoti() {\n      this.showNoti = false;\n    },\n    showMessageForm: function showMessageForm() {\n      this.$router.push(\"/dashboard/messages/newMessage\");\n    },\n    showTriggerForm: function showTriggerForm(id) {\n      this.$router.push(\"/dashboard/messages/newTrigger/\" + id);\n    },\n    showScheduleForm: function showScheduleForm(id) {\n      this.$router.push(\"/dashboard/messages/newSchedule/\" + id);\n    },\n    editMessage: function () {\n      var _editMessage = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(id) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.$router.push(\"/dashboard/messages/updateMessage/\" + id);\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function editMessage(_x) {\n        return _editMessage.apply(this, arguments);\n      }\n\n      return editMessage;\n    }(),\n    deleteMessage: function () {\n      var _deleteMessage = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(id) {\n        var pg, res;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.delete(API_BASE_URL + \"/api/messages/\" + id);\n\n              case 2:\n                pg = this.page - 1;\n                _context3.prev = 3;\n\n                if (!(this.titleSort == true)) {\n                  _context3.next = 10;\n                  break;\n                }\n\n                _context3.next = 7;\n                return axios.get(API_BASE_URL + \"/api/messages?page=\" + pg + \"&size=\" + this.rowSize + \"&sort=title,\" + this.sortType);\n\n              case 7:\n                res = _context3.sent;\n                _context3.next = 19;\n                break;\n\n              case 10:\n                if (!(this.textSort == true)) {\n                  _context3.next = 16;\n                  break;\n                }\n\n                _context3.next = 13;\n                return axios.get(API_BASE_URL + \"/api/messages?page=\" + pg + \"&size=\" + this.rowSize + \"&sort=text,\" + this.sortType);\n\n              case 13:\n                res = _context3.sent;\n                _context3.next = 19;\n                break;\n\n              case 16:\n                _context3.next = 18;\n                return axios.get(API_BASE_URL + \"/api/messages?page=\" + pg + \"&size=\" + this.rowSize + \"&sort=createdAt,\" + this.sortType);\n\n              case 18:\n                res = _context3.sent;\n\n              case 19:\n                if (res.data.numberOfElements == 0) {\n                  if (this.page != 1) this.changePage(this.page - 1);\n                }\n\n                this.messagesData = res.data.content;\n                if (res.data.totalPages == 0) this.pagesSize = 1;else this.pagesSize = res.data.totalPages;\n                this.showNotification(200);\n                _context3.next = 28;\n                break;\n\n              case 25:\n                _context3.prev = 25;\n                _context3.t0 = _context3[\"catch\"](3);\n                this.showNotification(-1);\n\n              case 28:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[3, 25]]);\n      }));\n\n      function deleteMessage(_x2) {\n        return _deleteMessage.apply(this, arguments);\n      }\n\n      return deleteMessage;\n    }(),\n    toggleMenu: function toggleMenu() {\n      this.menu = !this.menu;\n    },\n    hideMenu: function hideMenu() {\n      this.menu = false;\n    },\n    setRows: function setRows(value) {\n      if (value != this.rowSize) {\n        this.rowSize = value;\n        this.reloadMessages();\n      }\n\n      this.menu = !this.menu;\n    },\n    changePage: function changePage(nextPage) {\n      this.page = nextPage;\n      this.reloadMessages(nextPage - 1);\n    },\n    create: function () {\n      var _create = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return axios.get(API_BASE_URL + \"/api/messages?page=0&size=\" + this.rowSize + \"&sort=createdAt,\" + this.sortType);\n\n              case 3:\n                res = _context4.sent;\n                this.messagesData = res.data.content;\n                if (res.data.totalPages == 0) this.pagesSize = 1;else this.pagesSize = res.data.totalPages;\n                this.rowSize = res.data.size;\n                _context4.next = 12;\n                break;\n\n              case 9:\n                _context4.prev = 9;\n                _context4.t0 = _context4[\"catch\"](0);\n                this.showNotification(-1);\n\n              case 12:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[0, 9]]);\n      }));\n\n      function create() {\n        return _create.apply(this, arguments);\n      }\n\n      return create;\n    }(),\n    sortBy: function sortBy(value) {\n      if (this.sortType == \"desc\") this.sortType = \"asc\";else this.sortType = \"desc\";\n      this.sortByValue = value;\n      this.reloadMessages();\n    }\n  },\n  directives: {\n    ClickOutside: ClickOutside\n  }\n};",{"version":3,"sources":["Messages.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"messages\">\n    <router-view @reload-messages=\"reloadMessages()\" @show-notification=\"showNotification($event)\"></router-view>\n    <div id=\"header\">\n      <h1>Messages</h1>\n    </div>\n    <div id=\"divlist\">\n      <ul id=\"list\">\n        <li id=\"title-li\">\n          <div class=\"column1 column\">\n            <h5>Title</h5>\n            <p>\n              <i class=\"material-icons\" @click=\"sortBy('title')\">arrow_drop_down</i>\n            </p>\n          </div>\n          <div class=\"column2 column\">\n            <h5>Text</h5>\n            <p>\n              <i class=\"material-icons\" @click=\"sortBy('text')\">arrow_drop_down</i>\n            </p>\n          </div>\n          <div class=\"column3 column\">\n            <h5>Created At</h5>\n            <p>\n              <i class=\"tooltip, material-icons\" @click=\"sortBy('createdAt')\">arrow_drop_down</i>\n            </p>\n          </div>\n          <div class=\"column4 column\">\n            <p>\n              <i class=\"material-icons\">filter_list</i>\n            </p>\n          </div>\n        </li>\n\n        <li v-for=\"message in messagesData\" :key=\"message.messageId\">\n          <div class=\"linear2\"></div>\n          <div class=\"linear1\"></div>\n          <div class=\"column1 column\">\n            <p>{{message.title}}</p>\n          </div>\n          <div class=\"column2 column\">\n            <p>{{message.text}}</p>\n          </div>\n          <div class=\"column3 column\">\n            <p>{{message.createdAt | shortDate }}</p>\n          </div>\n          <div class=\"column4 column\">\n            <i\n              class=\"material-icons tooltip\"\n              @click=\"showScheduleForm(message.messageId)\"\n              data-tooltip=\"Neki tekst\"\n            >assignment_turned_in</i>\n            <i class=\"material-icons\" @click=\"showTriggerForm(message.messageId)\">assistant</i>\n            <i class=\"material-icons\" @click=\"editMessage(message.messageId)\">create</i>\n            <i class=\"material-icons\" @click=\"deleteMessage(message.messageId)\">delete</i>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div id=\"footer\">\n      <button id=\"footer-btn\" @click=\"toggleMenu\" v-click-outside=\"hideMenu\">{{ this.rowSize }} Rows</button>\n      <div id=\"menu\" v-show=\"menu\">\n        <div\n          class=\"menu-article\"\n          v-for=\"rowValue in rowSizesValue\"\n          :key=\"rowValue\"\n          @click=\"setRows(rowValue)\"\n        >{{ rowValue }}</div>\n      </div>\n\n      <div class=\"text-xs-center\">\n        <v-pagination v-model=\"page\" :length=\"pagesSize\" :total-visible=\"5\" @input=\"changePage\"></v-pagination>\n      </div>\n    </div>\n\n    <button @click=\"showMessageForm\" id=\"btn\">+</button>\n\n    <div\n      id=\"notification\"\n      v-show=\"showNoti\"\n      :class=\"{redBorder: errorOccured, greenBorder: !errorOccured}\"\n    >\n      <input\n        type=\"text\"\n        v-model=\"textNoti\"\n        readonly\n        :class=\"{redText: errorOccured, greenText: !errorOccured}\"\n      />\n      <button\n        @click=\"showNotification\"\n        :class=\"{redBackground: errorOccured, greenBackground: !errorOccured}\"\n      >OK</button>\n    </div>\n  </div>\n</template>\n\n\n<script>\n/* eslint-disable */\nimport {\n  THEME_ID,\n  THEME,\n  API_BASE_URL,\n  TITLE,\n  TEXT,\n  CREATEDAT\n} from \"../constants/index.js\";\nimport { USER_EMAIL, LANGUAGE } from \"../constants/index.js\";\nimport { ACCESS_TOKEN, MESSAGES } from \"../constants/index.js\";\nimport axios from \"axios\";\nimport ClickOutside from \"vue-click-outside\";\nimport { setTimeout } from \"timers\";\nconst headers = {\n  \"Content-Type\": \"application/json\",\n  Authorization: \"Bearer \" + localStorage.getItem(ACCESS_TOKEN)\n};\nexport default {\n  name: \"messages\",\n  data() {\n    return {\n      messagesData: [],\n      rowSize: 20, //Number of rows\n      pagesSize: 1, //Number of pages\n      page: 1, //current active page\n      menu: false,\n      rowSizesValue: [5, 10, 20],\n      sortType: \"desc\",\n      dateSort: true,\n      sortByValue: \"createdAt\",\n      textNoti: \"\",\n      errorOccured: false,\n      showNoti: false\n    };\n  },\n  mounted: function() {\n    /*if (localStorage.getItem(THEME) == \"light\") {\n      document.getElementById(\"header\").style.backgroundColor = \"white\";\n      document.getElementById(\"messages\").style.backgroundColor = \"white\";\n    } else if (localStorage.getItem(THEME) == \"dark\") {\n      document.getElementById(\"header\").style.backgroundColor = \"black\";\n      document.getElementById(\"messages\").style.backgroundColor = \"black\";\n    }\n    if (localStorage.getItem(LANGUAGE) != \"en\") {\n      document.getElementsByTagName(\"H1\")[0].innerHTML = localStorage.getItem(\n        MESSAGES\n      );\n      document.getElementsByTagName(\"H5\")[0].innerHTML = localStorage.getItem(\n        TITLE\n      );\n      document.getElementsByTagName(\"H5\")[1].innerHTML = localStorage.getItem(\n        TEXT\n      );\n      document.getElementsByTagName(\"H5\")[2].innerHTML = localStorage.getItem(\n        CREATEDAT\n      );\n    }\n    this.create();*/\n  },\n  filters: {\n    shortDate(value) {\n      let dateVar = new Date(value);\n      let dataVar2 = dateVar.toDateString();\n      let data = dataVar2.substring(4);\n      return data;\n    }\n  },\n  methods: {\n    async reloadMessages() {\n      var pg = this.page - 1;\n      try {\n        const res = await axios.get(\n          API_BASE_URL +\n            \"/api/messages?page=\" +\n            pg +\n            \"&size=\" +\n            this.rowSize +\n            \"&sort=\" +\n            this.sortByValue +\n            \",\" +\n            this.sortType\n        );\n\n        if (res.data.totalPages < this.page)\n          this.changePage(res.data.totalPages);\n\n        this.messagesData = res.data.content;\n        this.pagesSize = res.data.totalPages;\n      } catch (err) {\n        this.showNotification(-1);\n      }\n    },\n\n    showNotification(value) {\n      if (value == -1) {\n        this.textNoti = \"Some error have occured\";\n        this.errorOccured = true;\n      } else {\n        this.errorOccured = false;\n        this.textNoti = \"Succes\";\n      }\n      this.showNoti = !this.showNoti;\n      setTimeout(this.closeNoti, 1500);\n      {\n      }\n    },\n\n    closeNoti() {\n      this.showNoti = false;\n    },\n\n    showMessageForm() {\n      this.$router.push(\"/dashboard/messages/newMessage\");\n    },\n\n    showTriggerForm(id) {\n      this.$router.push(\"/dashboard/messages/newTrigger/\" + id);\n    },\n\n    showScheduleForm(id) {\n      this.$router.push(\"/dashboard/messages/newSchedule/\" + id);\n    },\n\n    async editMessage(id) {\n      this.$router.push(\"/dashboard/messages/updateMessage/\" + id);\n    },\n\n    async deleteMessage(id) {\n      await axios.delete(API_BASE_URL + \"/api/messages/\" + id);\n      var pg = this.page - 1;\n      try {\n        var res;\n        if (this.titleSort == true)\n          res = await axios.get(\n            API_BASE_URL +\n              \"/api/messages?page=\" +\n              pg +\n              \"&size=\" +\n              this.rowSize +\n              \"&sort=title,\" +\n              this.sortType\n          );\n        else if (this.textSort == true)\n          res = await axios.get(\n            API_BASE_URL +\n              \"/api/messages?page=\" +\n              pg +\n              \"&size=\" +\n              this.rowSize +\n              \"&sort=text,\" +\n              this.sortType\n          );\n        else\n          res = await axios.get(\n            API_BASE_URL +\n              \"/api/messages?page=\" +\n              pg +\n              \"&size=\" +\n              this.rowSize +\n              \"&sort=createdAt,\" +\n              this.sortType\n          );\n\n        if (res.data.numberOfElements == 0) {\n          if (this.page != 1) this.changePage(this.page - 1);\n        }\n        this.messagesData = res.data.content;\n        if (res.data.totalPages == 0) this.pagesSize = 1;\n        else this.pagesSize = res.data.totalPages;\n        this.showNotification(200);\n      } catch (err) {\n        this.showNotification(-1);\n      }\n    },\n\n    toggleMenu() {\n      this.menu = !this.menu;\n    },\n\n    hideMenu() {\n      this.menu = false;\n    },\n\n    setRows(value) {\n      if (value != this.rowSize) {\n        this.rowSize = value;\n        this.reloadMessages();\n      }\n      this.menu = !this.menu;\n    },\n\n    changePage(nextPage) {\n      this.page = nextPage;\n      this.reloadMessages(nextPage - 1);\n    },\n\n    async create() {\n      try {\n        const res = await axios.get(\n          API_BASE_URL +\n            \"/api/messages?page=0&size=\" +\n            this.rowSize +\n            \"&sort=createdAt,\" +\n            this.sortType\n        );\n        this.messagesData = res.data.content;\n        if (res.data.totalPages == 0) this.pagesSize = 1;\n        else this.pagesSize = res.data.totalPages;\n        this.rowSize = res.data.size;\n      } catch (err) {\n        this.showNotification(-1);\n      }\n    },\n\n    sortBy(value) {\n      if (this.sortType == \"desc\") this.sortType = \"asc\";\n      else this.sortType = \"desc\";\n\n      this.sortByValue = value;\n      this.reloadMessages();\n    }\n  },\n\n  directives: {\n    ClickOutside\n  }\n};\n</script>\n\n<style>\nh1 {\n  margin-top: 0px;\n  width: 200px;\n  float: left;\n}\n\n#header {\n  margin-left: 15px;\n  margin-right: 10px;\n  display: block;\n  width: 99%;\n  float: right;\n  background-color: white;\n}\n\n#divlist {\n  width: 100%;\n  height: 100vh;\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0px;\n  font-family: \"Roboto\", sans-serif;\n  font-weight: 500;\n}\n\n*:focus {\n  outline: none;\n}\n\n#menu {\n  width: 105px;\n  position: absolute;\n  float: left;\n  bottom: 69%;\n}\n\n.text-xs-center {\n  width: 400px;\n  float: right;\n  position: relative;\n  right: 50%;\n  transform: translateX(50%);\n}\n\n.menu-article {\n  border: 1px solid white;\n  width: 100%;\n  display: flex;\n  background-color: rgb(192, 188, 188);\n  justify-content: center;\n  align-items: center;\n  border-radius: 4px;\n  z-index: 99;\n  padding: 10px 0px;\n}\n\n.menu-article:hover {\n  cursor: pointer;\n  background-color: lightgray;\n}\n\n#messages {\n  padding: 20px;\n  padding-bottom: 0px;\n  height: 100vh;\n}\n\n#list {\n  height: 83%;\n  overflow: auto;\n}\n\nhtml,\nbody {\n  height: 100%;\n  overflow: hidden;\n}\n\n#btn {\n  position: absolute;\n  bottom: 100px;\n  right: 50px;\n}\n\nul {\n  width: 100%;\n  height: 100%;\n  padding: 0px;\n}\n\n#title-li {\n  border-radius: 3px 3px 0px 0px;\n  background-color: #f1f1f1;\n  position: sticky;\n  top: 0;\n}\n\n#title-li .column {\n  overflow: unset;\n}\n\n#title-li .material-icons {\n  display: block;\n}\n\nli {\n  display: flex;\n  height: 48px;\n  width: 100%;\n  background-color: white;\n  border: 0.5px solid lightgray;\n  border-bottom: 0px;\n  overflow: hidden;\n}\n\nli:last-child {\n  border-bottom: 0.5px solid lightgray;\n}\n\nli p {\n  font-size: 13px;\n}\n\n.column {\n  margin-left: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  overflow: hidden;\n  white-space: nowrap;\n  font-size: 14px;\n  font-weight: 300;\n}\n\n#title-li .column h5 {\n  font-size: 14px;\n}\n\n#title-li .column {\n  margin-left: 20px;\n  color: black;\n}\n\n#title-li .column4 {\n  padding-right: 20px;\n}\n\nli p {\n  margin: 0px;\n  color: rgb(70, 67, 67);\n}\n\n.column1 {\n  width: 13%;\n}\n\n.column2 {\n  width: 35%;\n}\n\n.column3 {\n  width: 7%;\n  margin-left: 30px;\n}\n\n.column4 {\n  width: 45%;\n}\n\n.column4 p {\n  margin-left: 20px;\n}\n\n.column4 {\n  justify-content: flex-end;\n  padding-right: 55px;\n}\n\nli:hover {\n  background-color: #f1f1f1;\n}\n\nli:hover .linear1 {\n  background-image: linear-gradient(\n    90deg,\n    rgba(236, 236, 236, 0) 0%,\n    rgb(241, 238, 238) 100%\n  );\n}\n\nli:hover .linear2 {\n  background-image: linear-gradient(\n    90deg,\n    rgba(236, 236, 236, 0) 0%,\n    rgb(241, 238, 238) 100%\n  );\n}\n\n.linear1 {\n  background-image: linear-gradient(\n    90deg,\n    rgba(236, 236, 236, 0) 0%,\n    white 100%\n  );\n  width: 60px;\n  height: 40px;\n  margin-top: 5px;\n  position: absolute;\n  left: 17%;\n}\n\n.linear2 {\n  background-image: linear-gradient(\n    90deg,\n    rgba(236, 236, 236, 0) 0%,\n    white 100%\n  );\n  width: 60px;\n  height: 39px;\n  margin-top: 5px;\n  position: absolute;\n  left: 48%;\n}\n\n#btn {\n  float: right;\n  height: 60px;\n  width: 60px;\n  border-radius: 50%;\n  font-size: 30px;\n  position: absolute;\n  bottom: 50px;\n  right: 13px;\n  background-color: #006bf5;\n  color: white;\n  border: 1px solid white;\n  font-family: \"Courier New\", Courier, monospace;\n  line-height: 60px;\n  z-index: 95;\n}\n\n#btn:hover {\n  cursor: pointer;\n}\n\n#footer {\n  height: 7%;\n  position: relative;\n  bottom: 15%;\n  background-color: white;\n  z-index: 0;\n  border: 1px solid lightgray;\n  padding: 0px 20px;\n}\n\n#footer {\n  position: absolute;\n  bottom: -10px;\n  width: calc(93% - 20px);\n  margin-right: 20px;\n}\n\n#footer-btn {\n  border: 1px solid grey;\n  padding: 5px 5px;\n  width: 105px;\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n  border-radius: 4px;\n}\n\n#footer ul li {\n  display: block;\n  border: 0px;\n}\n\n#footer ul li:hover {\n  background-color: white;\n}\n\n#footer ul li button {\n  height: 100%;\n}\n\n#footer li .material-icons {\n  /* for right and left nav icons */\n  display: block;\n}\n\n.theme--light.v-pagination .v-pagination__item--active {\n  /* for active page */\n  color: lightgray;\n}\n.text-xs-center {\n  height: 100%;\n}\n\n.v-pagination__item {\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.v-pagination__navigation {\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.greenBorder {\n  border: 1px solid rgb(85, 235, 85);\n}\n\n.redBorder {\n  border: 1px solid rgb(248, 74, 74);\n}\n\n.redText {\n  color: rgb(248, 74, 74);\n}\n\n.greenText {\n  color: rgb(85, 235, 85);\n}\n\n.redBackground {\n  background-color: rgb(248, 74, 74);\n}\n\n.redBackground:hover {\n  background-color: rgb(241, 101, 101);\n}\n\n.greenBackground {\n  background-color: rgb(85, 235, 85);\n}\n\n.greenBackground:hover {\n  background-color: rgb(140, 231, 140);\n}\n\n#notification {\n  height: 10vh;\n  width: 400px;\n  position: absolute;\n  right: 100px;\n  bottom: 10px;\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n#notification input {\n  height: 60%;\n  width: 100%;\n  text-align: center;\n  font-size: 25px;\n}\n\n#notification button {\n  width: 100%;\n  height: 40%;\n  text-align: center;\n  font-size: 20px;\n  color: white;\n  border-bottom-left-radius: 5px;\n  border-bottom-right-radius: 5px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}