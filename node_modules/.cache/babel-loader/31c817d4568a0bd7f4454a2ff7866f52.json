{"remainingRequest":"/home/newsmay/Desktop/NewFolder/novi/node_modules/babel-loader/lib/index.js!/home/newsmay/Desktop/NewFolder/novi/node_modules/vuetify-loader/lib/loader.js!/home/newsmay/Desktop/NewFolder/novi/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/newsmay/Desktop/NewFolder/novi/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/newsmay/Desktop/NewFolder/novi/src/components/Audit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/newsmay/Desktop/NewFolder/novi/src/components/Audit.vue","mtime":1566388554282},{"path":"/home/newsmay/Desktop/NewFolder/novi/node_modules/cache-loader/dist/cjs.js","mtime":1565775065000},{"path":"/home/newsmay/Desktop/NewFolder/novi/node_modules/babel-loader/lib/index.js","mtime":1565775065000},{"path":"/home/newsmay/Desktop/NewFolder/novi/node_modules/vuetify-loader/lib/loader.js","mtime":1565775065000},{"path":"/home/newsmay/Desktop/NewFolder/novi/node_modules/cache-loader/dist/cjs.js","mtime":1565775065000},{"path":"/home/newsmay/Desktop/NewFolder/novi/node_modules/vue-loader/lib/index.js","mtime":1565775065000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/newsmay/Desktop/NewFolder/novi/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/newsmay/Desktop/NewFolder/novi/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { API_BASE_URL } from \"../constants/index.js\";\nimport { Current_User_Role, THEME_ID, THEME } from \"../constants/index.js\";\nimport { User_Email } from \"../constants/index.js\";\nimport { ACCESS_TOKEN, CAUSE, CONSEQUENCE, USER_LANGUAGE, ACTIVITY_LOG } from \"../constants/index.js\";\nimport axios from \"axios\";\nimport ClickOutside from \"vue-click-outside\";\nvar headers = {\n  \"Content-Type\": \"application/json\",\n  Authorization: \"Bearer \" + localStorage.getItem(ACCESS_TOKEN)\n};\nexport default {\n  name: \"Audit\",\n  data: function data() {\n    var _ref;\n\n    return _ref = {\n      auditData: [],\n      textNoti: \"\",\n      showNoti: false,\n      rowSizesValue: [5, 10, 20],\n      rowSize: 20,\n      page: 1,\n      //current active page\n      pagesSize: 1,\n      //Number of pages\n      menu: false,\n      sortByValue: \"createdAt\"\n    }, _defineProperty(_ref, \"textNoti\", \"\"), _defineProperty(_ref, \"errorOccured\", false), _defineProperty(_ref, \"showNoti\", false), _ref;\n  },\n  mounted: function mounted() {\n    if (localStorage.getItem(THEME) == \"light\") {\n      document.getElementById(\"header\").style.backgroundColor = \"white\";\n      document.getElementById(\"divlist\").style.backgroundColor = \"white\";\n    } else if (localStorage.getItem(THEME) == \"dark\") {\n      document.getElementById(\"header\").style.backgroundColor = \"black\";\n      document.getElementById(\"divlist\").style.backgroundColor = \"black\";\n      document.getElementById(\"Audit\").style.backgroundColor = \"black\";\n    }\n\n    if (localStorage.getItem(USER_LANGUAGE) != \"en\") {\n      document.getElementsByTagName(\"H1\")[0].innerHTML = localStorage.getItem(ACTIVITY_LOG);\n      document.getElementsByTagName(\"H5\")[1].innerHTML = localStorage.getItem(CAUSE);\n      document.getElementsByTagName(\"H5\")[2].innerHTML = localStorage.getItem(CONSEQUENCE);\n    }\n\n    this.auditData = [{\n      id: 1,\n      cause: \"Testni tekst 1\",\n      consequence: \"Testni tekst 1\"\n    }, {\n      id: 2,\n      cause: \"Testni tekst 2\",\n      consequence: \"Testni tekst 2\"\n    }];\n  },\n  methods: {\n    toggleMenu: function toggleMenu() {\n      this.menu = !this.menu;\n    },\n    hideMenu: function hideMenu() {\n      this.menu = false;\n    },\n    setRows: function setRows(value) {\n      if (value != this.rowSize) {\n        this.rowSize = value; //this.reloadTriggers();\n      }\n\n      this.menu = !this.menu;\n    },\n    changePage: function changePage(nextPage) {\n      this.page = nextPage; //this.reloadTriggers(nextPage - 1);\n    },\n    create: function () {\n      var _create = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get(API_BASE_URL + \"/api/triggers?page=0&size=\" + this.rowSize);\n\n              case 3:\n                res = _context.sent;\n                this.triggersData = res.data.content;\n                if (res.data.totalPages == 0) this.pagesSize = 1;else this.pagesSize = res.data.totalPages;\n                this.rowSize = res.data.size;\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 9]]);\n      }));\n\n      function create() {\n        return _create.apply(this, arguments);\n      }\n\n      return create;\n    }(),\n    showNotification: function showNotification(value) {\n      if (value == -1) {\n        this.textNoti = \"Some error have occured\";\n        this.errorOccured = true;\n      } else {\n        this.errorOccured = false;\n        this.textNoti = \"Succes\";\n      }\n\n      this.showNoti = !this.showNoti;\n      setTimeout(this.closeNoti, 1500);\n      {}\n    }\n  },\n  directives: {\n    ClickOutside: ClickOutside\n  }\n};",{"version":3,"sources":["Audit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"Audit\">\n    <div id=\"header\">\n      <h1>Activity</h1>\n    </div>\n\n    <div id=\"divlist\">\n      <ul id=\"list\">\n        <li id=\"title-li\">\n          <div class=\"column1 column\">\n            <h5>ID</h5>\n            <p>\n              <i class=\"material-icons\">arrow_drop_down</i>\n            </p>\n          </div>\n          <div class=\"column2 column\">\n            <h5>cause</h5>\n            <p>\n              <i class=\"material-icons\">arrow_drop_down</i>\n            </p>\n          </div>\n           <div class=\"column3 column\">\n            <h5>consequence</h5>\n            <p>\n              <i class=\"material-icons\">arrow_drop_down</i>\n            </p>\n          </div>\n          <div class=\"column4 column\">\n            <p>\n              <i class=\"material-icons\">filter_list</i>\n            </p>\n          </div>\n        </li>\n\n        <li v-for=\"audit in auditData\" :key=\"audit.id\">\n          <div class=\"linear2\"></div>\n          <div class=\"linear1\"></div>\n          <div class=\"column1 column\">\n            <p>{{ audit.id }}</p>\n          </div>\n          <div class=\"column2 column\">\n            <p>{{ audit.cause}}</p>\n          </div>\n          <div class=\"column3 column\">\n            <p>{{ audit.consequence}}</p>\n          </div>\n        </li>\n      </ul>\n    </div>\n\n    <div id=\"footer\">\n      <button id=\"footer-btn\" @click=\"toggleMenu\" v-click-outside=\"hideMenu\">{{ this.rowSize }} Rows</button>\n      <div id=\"menu\" v-show=\"menu\">\n        <div\n          class=\"menu-article\"\n          v-for=\"rowValue in rowSizesValue\"\n          :key=\"rowValue\"\n          @click=\"setRows(rowValue)\"\n        >{{ rowValue }}</div>\n      </div>\n\n      <div class=\"text-xs-center\">\n        <v-pagination v-model=\"page\" :length=\"pagesSize\" :total-visible=\"5\" @input=\"changePage\"></v-pagination>\n      </div>\n    </div>\n\n    <div\n      id=\"notification\"\n      v-show=\"showNoti\"\n      :class=\"{redBorder: errorOccured, greenBorder: !errorOccured}\"\n    >\n      <input\n        type=\"text\"\n        v-model=\"textNoti\"\n        readonly\n        :class=\"{redText: errorOccured, greenText: !errorOccured}\"\n      />\n      <button\n        @click=\"showNotification\"\n        :class=\"{redBackground: errorOccured, greenBackground: !errorOccured}\"\n      >OK</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { API_BASE_URL } from \"../constants/index.js\";\nimport { Current_User_Role, THEME_ID, THEME } from \"../constants/index.js\";\nimport { User_Email } from \"../constants/index.js\";\nimport { ACCESS_TOKEN, CAUSE ,CONSEQUENCE ,USER_LANGUAGE, ACTIVITY_LOG } from \"../constants/index.js\";\nimport axios from \"axios\";\nimport ClickOutside from \"vue-click-outside\";\nconst headers = {\n  \"Content-Type\": \"application/json\",\n  Authorization: \"Bearer \" + localStorage.getItem(ACCESS_TOKEN)\n};\n\nexport default {\n  name: \"Audit\",\n  data(){\n      return{\n        auditData: [],\n        textNoti: \"\",\n        showNoti: false,\n        rowSizesValue: [5, 10, 20],\n        rowSize: 20,\n        page: 1, //current active page\n        pagesSize: 1, //Number of pages\n        menu: false,\n        sortByValue: \"createdAt\",\n        textNoti: \"\",\n        errorOccured: false,\n        showNoti: false\n      }\n  },\n  mounted: function(){\n     if (localStorage.getItem(THEME) == \"light\") {\n      document.getElementById(\"header\").style.backgroundColor = \"white\";\n      document.getElementById(\"divlist\").style.backgroundColor = \"white\";\n    } else if (localStorage.getItem(THEME) == \"dark\") {\n      document.getElementById(\"header\").style.backgroundColor = \"black\";\n      document.getElementById(\"divlist\").style.backgroundColor = \"black\";\n      document.getElementById(\"Audit\").style.backgroundColor = \"black\";\n    }\n     if (localStorage.getItem(USER_LANGUAGE) != \"en\") {\n       document.getElementsByTagName(\"H1\")[0].innerHTML = localStorage.getItem(\n       ACTIVITY_LOG\n      );\n      document.getElementsByTagName(\"H5\")[1].innerHTML = localStorage.getItem(\n        CAUSE\n      );\n      document.getElementsByTagName(\"H5\")[2].innerHTML = localStorage.getItem(\n        CONSEQUENCE\n      );\n     \n    }\n    this.auditData = [{id: 1, cause: \"Testni tekst 1\", consequence: \"Testni tekst 1\"}, {id: 2, cause: \"Testni tekst 2\", consequence: \"Testni tekst 2\"}]\n  },\n  methods:{\n      toggleMenu() {\n      this.menu = !this.menu;\n    },\n\n    hideMenu() {\n      this.menu = false;\n    },\n\n    setRows(value) {\n      if (value != this.rowSize) {\n        this.rowSize = value;\n        //this.reloadTriggers();\n      }\n      this.menu = !this.menu;\n    },\n\n    changePage(nextPage) {\n      this.page = nextPage;\n      //this.reloadTriggers(nextPage - 1);\n    },\n\n    async create() {\n      try {\n        const res = await axios.get(\n          API_BASE_URL + \"/api/triggers?page=0&size=\" + this.rowSize\n        );\n        this.triggersData = res.data.content;\n        if (res.data.totalPages == 0) this.pagesSize = 1;\n        else this.pagesSize = res.data.totalPages;\n        this.rowSize = res.data.size;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n     showNotification(value) {\n       if(value == -1)\n       {\n           this.textNoti = \"Some error have occured\";\n           this.errorOccured = true;\n       }\n       else\n       {\n          this.errorOccured = false;\n          this.textNoti = \"Succes\"; \n       }\n       this.showNoti = !this.showNoti;\n       setTimeout(this.closeNoti, 1500)\n       {}\n    },\n  },\n  directives: {\n    ClickOutside\n  }\n};\n</script>\n\n<style scoped>\n\nh1 {\n  margin-top: 0px;\n  width: 200px;\n  float: left;\n}\n\n#header {\n  margin-left: 15px;\n  margin-right: 10px;\n  display: block;\n  width: 99%;\n  float: right;\n  background-color: white;\n}\n\n#divlist {\n    width: 100%;\n    height: 100vh;\n}\n\n#table {\n  background-color: white;\n}\n\n\n#Audit {\n  padding: 20px;\n  background-color: white;\n}\n\nbody {\n  font-family: \"Lato\", sans-serif;\n}\n\n#footer {\n  position: absolute;\n  bottom: -10px;\n  width: calc(93% - 20px);\n  margin-right: 20px;\n}\n\n#title-li .column4{\n  width: 45%;\n}\n\n.column2{\n  width: 25%;\n}\n\n.column3{\n  width: 17%;\n  margin-left: 0px;\n}\n\n</style>"],"sourceRoot":"src/components"}]}